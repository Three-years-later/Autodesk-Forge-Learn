# Viewing

包含公共API类，函数，常量和事件的名称空间。

## 方法

### 初始化程序(选项,回调)

用于初始化查看器运行时的静态方法。完成此步骤后，必须加载模型。

包括：

查看器使用的云服务的端点，例如客户端上的模型衍生身份验证和授权cookie设置其他运行时环境变量和全局查看器配置参数

<font color=gray size=4>**参量**</font>

Term|Definition
:-:|:-:|
options<font color=red size=2>*</font> <font color=gray size=2>object</font>|options对象包含用于初始化的配置参数。如果没有提供访问令牌或身份验证回调，则初始化器将返回URL查询字符串中提供的访问令牌，或者存储在cookie缓存中的先前访问令牌（如果有）。
env <font color=gray size=2>string</font>|可以使用“ AutodeskProduction”，“ AutodeskStaging”或“ AutodeskDevelopment”。“ Local”避免将征服标题附加到XHR请求。
api <font color=gray size=2>string</font>|在美国数据中心使用“ modelDerivativeV2”或“ derivativeV2”，在欧洲数据中心使用“ derivativeV2_EU”。
getAccessToken <font color=gray size=2>function</font>|异步提供访问令牌的函数。函数签名为**getAccessToken(onSuccess)**，其中onSuccess是在授予令牌后getAccessTokenfunction应该调用的回调，令牌是onSuccess函数的第一个输入参数，令牌到期时间(以秒为单位)是该功能的第二个输入参数。Viewer依赖于getAccessToken和到期时间来自动更新令牌，因此至关重要的是必须按此处所述实现getAccessToken。
accessToken <font color=gray size=2>string</font>|访问令牌。提供**options.getAccessToken**时不需要。
webGLHelpLink <font color=gray size=2>string</font>|到webGL上帮助页面的链接（如果已禁用）。
language <font color=gray size=2>string</font>|RFC 4646中定义的首选语言代码，例如“ en”，“ de”，“ fr”等。如果未设置任何语言，则查看器将从浏览器中选择它。如果语言不是RFC中定义的语言，则Viewer将退回到“ en”（英语），但是行为未定义。
callback<font color=red size=2>*</font> <font color=gray size=2>function</font>|初始化完成后，客户端执行的方法。
<font color=red size=2>*</font><font color=red size=2>必填</font>

<font color=gray size=4>**例子**</font>

```js
var options = {
  env: "AutodeskProduction",
  language: "en",
  getAccessToken: function(onSuccess) {
    // 待办事项：获取实际的伪造令牌和有效时间。
    var accessToken = 'your_access_token';
    var expirationTimeSeconds = 5 * 60; // 5 minutes
    onSuccess(accessToken, expirationTimeSeconds);
  }
};
var myCallback = function() {
  console.log("initialization complete, creating the viewer...");
};
Autodesk.Viewing.Initializer(options, myCallback);
```

----

### shutdown()

与Autodesk.Viewing.Initializer相对，使用它释放内存。开发人员需要在调用此功能之前取消初始化所有Autodesk.Viewing.Viewer3D实例。

## 常数

### 默认设置

查看器的默认设置。有关每个设置的更多信息，请参考“[设置](https://forge.autodesk.com/en/docs/viewer/v7/reference/globals/Settings/)”。

----

类型

----

[设定值](https://forge.autodesk.com/en/docs/viewer/v7/reference/globals/Settings/)

----

## 属性

Term|Definition
:-:|:-:|
viewCube <font color=gray size=2>*boolean*</font>|默认值：true。设置视图多维数据集的可见性。对于移动设备设置为false。
alwaysUsePivot <font color=gray size=2>*boolean*</font>|默认值：false。轨迹控件始终围绕当前设置的枢轴点旋转。
zoomTowardsPivot <font color=gray size=2>**</font>|默认值：false。相机手推车（缩放）操作的默认方向是朝向相机枢轴点。
reverseHorizontalLookDirection <font color=gray size=2>*boolean*</font>|默认值：false。设置视图导航选项以反转水平外观操作的默认方向。
reverseVerticalLookDirection <font color=gray size=2>*boolean*</font>|默认值：false。设置视图导航选项以反转垂直外观操作的默认方向。
orbitPastWorldPoles <font color=gray size=2>*boolean*</font>|默认值：true。设置视图导航选项，以允许轨道控件将摄像机移至北极和南极（世界上下方向）之外。
clickToSetCOI <font color=gray size=2>*boolean*</font>|默认值：false。修改查看器的默认单击行为。
ghosting <font color=gray size=2>*boolean*</font>|默认值：true。在搜索和隔离期间切换重影。
optimizeNavigation <font color=gray size=2>*boolean*</font>|默认值：false。切换是否应针对性能优化导航。对于移动设备设置为true。
ambientShadows <font color=gray size=2>*boolean*</font>|默认值：true。启用或禁用环境阴影。
antialiasing <font color=gray size=2>*boolean*</font>|默认值：true。启用或禁用抗锯齿。对于移动设备设置为false。
groundShadow <font color=gray size=2>*boolean*</font>|默认值：true。切换地面阴影。
groundReflection <font color=gray size=2>*boolean*</font>|默认值：false。切换地面反射。
lineRendering <font color=gray size=2>*boolean*</font>|默认值：true。隐藏场景中的所有线。
edgeRendering <font color=gray size=2>*boolean*</font>|默认值：false。打开/关闭边缘拓扑显示（如果有）。
lightPreset <font color=gray size=2>*number*</font>|默认值：1.设置查看器的灯光预设（环境）。
envMapBackground <font color=gray size=2>*boolean*</font>|默认值：false。切换背景的环境地图。
firstPersonToolPopup <font color=gray size=2>*boolean*</font>|默认值：true。切换第一人称工具弹出窗口。
bimWalkToolPopup <font color=gray size=2>*boolean*</font>|默认值：true。切换bimwalk工具弹出窗口。
grayscale <font color=gray size=2>*boolean*</font>|默认值：false。覆盖2D模型中的线条颜色以呈现灰色阴影。
swapBlackAndWhite <font color=gray size=2>*boolean*</font>|默认值：false。对于2D模型，将在黑色背景上切换为白线。
progressiveRendering <font color=gray size=2>*boolean*</font>|默认值：true。切换是否使用渐进式渲染。
openPropertiesOnSelect <font color=gray size=2>*boolean*</font>|默认值：false。选择对象时打开属性面板（仅适用于GuiViewer3D）。
pointRendering <font color=gray size=2>*boolean*</font>|默认值：true。隐藏场景中的所有点。
backgroundColorPreset|默认值：null。将颜色设置为背景。
reverseMouseZoomDir <font color=gray size=2>*boolean*</font>|默认值：false。反转相机手推车（缩放）操作的默认方向。
leftHandedMouseSetup <font color=gray size=2>*boolean*</font>|
fusionOrbit <font color=gray size=2>*boolean*</font>|
fusionOrbitConstrained <font color=gray size=2>*boolean*</font>|
wheelSetsPivot <font color=gray size=2>*boolean*</font>|
selectionSetsPivot <font color=gray size=2>*boolean*</font>|
bimWalkNavigatorType <font color=gray size=2>*string*</font>|
defaultNavigationTool3D <font color=gray size=2>*string*</font>|
loadingAnimation <font color=gray size=2>*boolean*</font>|
Autodesk-Forge-Learn
Forge紧密契合了现在蓬勃发展的智慧互联，BIM，工业4.0，施工管理，运营管理，VR/AR行业的旺盛需求，解决了诸多痛点，也是因为Forge诞生于流行的技术框架，能够和众多新颖，高效，安全的开发方式结合，产生好用，好看又能持续带来业务价值的网络和移动应用。